{
  "version": 3,
  "sources": ["../../../../../../node_modules/wcs-core/dist/esm/wcs-counter.entry.js"],
  "sourcesContent": ["import { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-d9de61ce.js';\nimport { i as inheritAriaAttributes, a as inheritAttributes, p as parseCssTimeValueToMilliseconds, s as setOrRemoveAttribute, e as isKeyup, f as isKeydown, h as isHomeKey, j as isEndKey } from './helpers-ece6a2d3.js';\nconst WcsCounterSizeValues = ['m', 'l']; // as const keyword is used to infer and preserve the exact literal values of an array or object.\nfunction isWcsCounterSize(size) {\n  // @ts-ignore : ignore size type, as it is checked with WcsInputSizeValues\n  return WcsCounterSizeValues.includes(size);\n}\nconst counterCss = \"@keyframes spin-animation-up{0%{transform:translateY(0);transform-origin:center;opacity:1}50%{opacity:0.5}100%{transform:translateY(30px);transform-origin:center;opacity:1}}@keyframes spin-animation-down{0%{transform:translateY(0);transform-origin:center;opacity:1}50%{opacity:0.5}100%{transform:translateY(-30px);transform-origin:center;opacity:1}}:host{--wcs-counter-border-radius:var(--wcs-semantic-border-radius-full);--wcs-counter-value-color-default:var(--wcs-semantic-color-text-primary);--wcs-counter-value-color-disabled:var(--wcs-semantic-color-text-tertiary);--wcs-counter-font-weight:var(--wcs-semantic-font-weight-heavy);--wcs-counter-height-m:var(--wcs-semantic-size-m);--wcs-counter-height-l:var(--wcs-semantic-size-l);--wcs-counter-font-size-m:var(--wcs-semantic-font-size-m);--wcs-counter-font-size-l:var(--wcs-semantic-font-size-l);--wcs-counter-padding-m:var(--wcs-semantic-spacing-small);--wcs-counter-padding-l:var(--wcs-semantic-spacing-base);--wcs-counter-background-color:var(--wcs-semantic-color-background-surface-secondary);--wcs-counter-gap:var(--wcs-counter-gap-size-m);--wcs-counter-gap-size-m:calc(1.5 * var(--wcs-semantic-spacing-base));--wcs-counter-gap-size-l:calc(2 * var(--wcs-semantic-spacing-base));--wcs-counter-outline-color-focus:var(--wcs-semantic-color-border-focus-base);--wcs-counter-transition-duration:var(--wcs-semantic-motion-duration-feedback-base);display:flex}:host .counter{box-sizing:border-box;height:var(--wcs-counter-height);font-family:var(--wcs-font-sans-serif);font-size:var(--wcs-counter-font-size);font-weight:var(--wcs-counter-font-weight);color:var(--wcs-counter-value-color-default);display:flex;align-items:center;padding:var(--wcs-counter-padding);width:fit-content;overflow:hidden;border-radius:var(--wcs-counter-border-radius);background-color:var(--wcs-counter-background-color);background-clip:padding-box;gap:var(--wcs-counter-gap)}:host .counter:focus-within{outline:none}:host .counter:has(.current-value:focus-visible){outline:var(--wcs-semantic-border-width-large) dashed var(--wcs-counter-outline-color-focus);outline-offset:0;border-radius:var(--wcs-counter-border-radius)}@supports not selector(&:has(.current-value:focus-visible)){:host .counter:focus-within{outline:var(--wcs-semantic-border-width-large) dashed var(--wcs-counter-outline-color-focus);outline-offset:0;border-radius:var(--wcs-counter-border-radius)}}:host .counter-container{height:var(--wcs-counter-height);display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative}:host .outliers{position:absolute}:host #outlier-down{top:calc(var(--wcs-counter-height) / 2 * -1)}:host #outlier-up{bottom:calc(var(--wcs-counter-height) / 2 * -1)}:host .current-value{outline:none}:host .animate-up{animation:spin-animation-up var(--wcs-counter-transition-duration) ease-in-out}:host .animate-down{animation:spin-animation-down var(--wcs-counter-transition-duration) ease-in-out}:host [hidden]{opacity:0}:host([size=m]){--wcs-counter-padding:var(--wcs-counter-padding-m);--wcs-counter-height:var(--wcs-counter-height-m);--wcs-counter-font-size:var(--wcs-counter-font-size-m);--wcs-counter-gap:var(--wcs-counter-gap-size-m)}:host([size=l]){--wcs-counter-padding:var(--wcs-counter-padding-l);--wcs-counter-height:var(--wcs-counter-height-l);--wcs-counter-font-size:var(--wcs-counter-font-size-l);--wcs-counter-gap:var(--wcs-counter-gap-size-l)}:host([disabled]){cursor:not-allowed}:host([disabled]) .counter{color:var(--wcs-counter-value-color-disabled)}\";\nconst WcsCounterStyle0 = counterCss;\nconst COUNTER_INHERITED_ATTRS = ['tabindex', 'title'];\nconst Counter = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.wcsChange = createEvent(this, \"wcsChange\", 7);\n    this.wcsBlur = createEvent(this, \"wcsBlur\", 7);\n    this.inheritedAttributes = {};\n    /**\n     * Default animation duration, in milliseconds\n     * @private\n     */\n    this.ANIMATION_DURATION = 150;\n    this.animateRunning = false;\n    this.handleDecrement = () => {\n      if (this.disabled) return;\n      if (this.min === undefined || this.value > this.min) {\n        // we set animateRunning here to prevent the watch method on value prop from affecting the displayed value\n        // before the animation runs.\n        this.animateRunning = true;\n        this.value -= this.step;\n        this.notifyChange();\n        this.animate('up');\n      }\n    };\n    this.handleIncrement = () => {\n      if (this.disabled) return;\n      if (this.max === undefined || this.value < this.max) {\n        // we set animateRunning here to prevent the watch method on value prop from affecting the displayed value\n        // before the animation runs.\n        this.animateRunning = true;\n        this.value += this.step;\n        this.notifyChange();\n        this.animate('down');\n      }\n    };\n    this.animate = direction => {\n      // In case someone call animate function, we want ensured that animateRunning is set to true to prevent other \n      // method to mutate the displayedValue.\n      this.animateRunning = true;\n      const outliers = Array.from(this.counterContainer.children).filter(span => span.classList.contains('outliers'));\n      this.counterContainer.classList.add('animate-' + direction);\n      outliers.forEach(span => {\n        span.hidden = false;\n      });\n      setTimeout(() => {\n        this.counterContainer.classList.remove('animate-' + direction);\n        outliers.forEach(span => {\n          span.hidden = true;\n        });\n        this.displayedValue = this.value;\n        this.animateRunning = false;\n      }, this.ANIMATION_DURATION - 20);\n    };\n    this.size = 'm';\n    this.label = undefined;\n    this.disabled = false;\n    this.min = undefined;\n    this.max = undefined;\n    this.step = 1;\n    this.value = undefined;\n    this.displayedValue = undefined;\n  }\n  componentWillLoad() {\n    this.handleValueChange();\n    if (!isWcsCounterSize(this.size)) {\n      console.warn(`Invalid size value for wcs-counter : \"${this.size}\". Must be one of \"${WcsCounterSizeValues.join(', ')}\"`);\n      this.size = \"m\"; // Default fallback value\n    }\n    this.inheritedAttributes = Object.assign(Object.assign({}, inheritAriaAttributes(this.el)), inheritAttributes(this.el, COUNTER_INHERITED_ATTRS));\n  }\n  componentDidRender() {\n    var _a, _b;\n    this.ANIMATION_DURATION = (_b = parseCssTimeValueToMilliseconds((_a = window.getComputedStyle(this.el).getPropertyValue('--wcs-counter-transition-duration')) !== null && _a !== void 0 ? _a : '150ms')) !== null && _b !== void 0 ? _b : 150;\n  }\n  async setAriaAttribute(attr, value) {\n    setOrRemoveAttribute(this.spinButton, attr, value);\n  }\n  /**\n   * Current value change => handle event and interval\n   */\n  valueChange(newVal, oldVal) {\n    if (oldVal === newVal) return;\n    this.handleValueChange();\n  }\n  handleValueChange() {\n    this.setMinimumIfValueIsUndefinedOrNull();\n    this.ensureValueIsNotOutOfMinMax();\n    this.updateDisplayValueIfNoAnimationRunning();\n  }\n  updateDisplayValueIfNoAnimationRunning() {\n    if (!this.animateRunning) {\n      this.displayedValue = this.value;\n    }\n  }\n  ensureValueIsNotOutOfMinMax() {\n    if (this.max !== undefined && this.value > this.max) {\n      this.value = this.max;\n    } else if (this.min !== undefined && this.value < this.min) {\n      this.value = this.min;\n    }\n  }\n  setMinimumIfValueIsUndefinedOrNull() {\n    var _a;\n    if (this.value === undefined || this.value === null) {\n      this.value = (_a = this.min) !== null && _a !== void 0 ? _a : 0;\n    }\n  }\n  onKeyDown(_event) {\n    if (this.disabled) return;\n    if (isKeyup(_event)) {\n      _event.preventDefault();\n      this.handleIncrement();\n    }\n    if (isKeydown(_event)) {\n      _event.preventDefault();\n      this.handleDecrement();\n    }\n    if (isHomeKey(_event)) {\n      _event.preventDefault();\n      if (this.min != null) {\n        this.value = this.min;\n        this.displayedValue = this.value;\n        this.notifyChange();\n      }\n    }\n    if (isEndKey(_event)) {\n      _event.preventDefault();\n      if (this.max != null) {\n        this.value = this.max;\n        this.displayedValue = this.value;\n        this.notifyChange();\n      }\n    }\n  }\n  notifyChange() {\n    this.wcsChange.emit({\n      value: this.value\n    });\n  }\n  render() {\n    return h(Host, {\n      key: 'a957d407947a81ebdc48dde3977ab2b2a19006ad'\n    }, h(\"div\", {\n      key: 'dbc569a37c06b78b6e2dabb87731db62590b347f',\n      class: \"counter\"\n    }, h(\"wcs-button\", {\n      key: 'c7a9f3e34ac9907789a4218fc44b34698a5897e9',\n      class: \"wcs-primary\",\n      shape: \"round\",\n      size: \"s\",\n      tabindex: -1,\n      onClick: () => this.handleDecrement(),\n      onBlur: event => this.wcsBlur.emit(event),\n      disabled: this.disabled || this.value === this.min\n    }, h(\"wcs-mat-icon\", {\n      key: 'd6467a23f871a6beab70aff5d7c333c544eb9913',\n      icon: \"remove\",\n      size: \"s\"\n    })), h(\"div\", {\n      key: '2a1fd878363e0667b2f14a5d767a0367aa6b7149',\n      class: \"counter-container\",\n      ref: input => this.counterContainer = input\n    }, h(\"span\", {\n      key: '7741dec6872c3c1ba72b0191cb081b41cb43e303',\n      id: \"outlier-down\",\n      class: \"outliers\",\n      hidden: true,\n      \"aria-hidden\": \"true\"\n    }, this.displayedValue - this.step), h(\"span\", Object.assign({\n      key: '20e00232af8397a0fc042f6570d4c1d74fd14bb5',\n      tabindex: this.disabled ? -1 : 0,\n      role: \"spinbutton\",\n      ref: el => this.spinButton = el,\n      class: \"current-value\",\n      onBlur: event => this.wcsBlur.emit(event),\n      onKeyDown: event => this.onKeyDown(event),\n      \"aria-disabled\": this.disabled ? 'true' : null,\n      \"aria-valuenow\": this.value,\n      \"aria-valuetext\": this.value,\n      \"aria-valuemin\": this.min,\n      \"aria-valuemax\": this.max,\n      \"aria-label\": this.label\n    }, this.inheritedAttributes), this.displayedValue), h(\"span\", {\n      key: '2794cbc223820ec7bd6fa055aed3ba6fe92fc319',\n      id: \"outlier-up\",\n      class: \"outliers\",\n      hidden: true,\n      \"aria-hidden\": \"true\"\n    }, this.displayedValue + this.step)), h(\"wcs-button\", {\n      key: 'cbce7b7dba69d9c0546152e6b283fd85f389e7fc',\n      class: \"wcs-primary\",\n      shape: \"round\",\n      size: \"s\",\n      tabindex: -1,\n      onClick: () => this.handleIncrement(),\n      onBlur: event => this.wcsBlur.emit(event),\n      disabled: this.disabled || this.value === this.max\n    }, h(\"wcs-mat-icon\", {\n      key: 'af515fae89b19516f9706f1582a77b9daababb3b',\n      icon: \"add\",\n      size: \"s\"\n    }))));\n  }\n  static get delegatesFocus() {\n    return true;\n  }\n  get el() {\n    return getElement(this);\n  }\n  static get watchers() {\n    return {\n      \"value\": [\"valueChange\"]\n    };\n  }\n};\nCounter.style = WcsCounterStyle0;\nexport { Counter as wcs_counter };\n\n"],
  "mappings": "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",
  "names": []
}
